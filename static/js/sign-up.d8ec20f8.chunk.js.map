{"version":3,"sources":["components/ErrorValidation/ErrorValidation.module.css","components/SignUp/SignUp.module.css","components/ErrorValidation/ErrorValidation.jsx","components/SignUp/SignUp.js"],"names":["module","exports","primaryColor","centerDirection","paragraph3","mainContainer","errorTextWrapper","errorText","headingMobile","headingTablet","headingDesktop","paragraph1","paragraph2","secondaryColor","hoverPrimaryColor","inputColor","focusValidColor","focusValidColorShadow","focusInvalidColorShadow","marginForComponents","transitionDuration","whiteText","blackText","backgroundColor3","registerFormWrapper","registerFormTitle","registerFormContent","registerFormText","registrationForm","label","labelTitle","labelPhoneTitle","inputSection","inputSectionValid","inputSectionInvalid","inputNumberSection","inputNumberSectionValid","inputNumberSectionInvalid","inputNumberFormat","positionsSection","selectLabelTitle","labelContainer","radioLabel","inputRadioLabel","radioLabelTitle","photoLabelTitle","photoInput","labelPhotoInput","labelPhotoInputValid","labelPhotoInputInvalid","leftLabelPhotoInputBlack","leftLabelPhotoInputGrey","rightLabelPhotoInput","signUpButton","firstClonePhotoInputBlack","secondClonePhotoInput","ErrorValidation","_ref","text","react_default","a","createElement","className","styles","rules","name","email","phone","position","photo","messages","name.required","name.min","email.required","email.email","phone.required","phone.number","position.required","photo.required","SignUp","state","positions","token","isLoading","error","errors","inputRef","createRef","handleChange","e","_e$target","target","value","_this","setState","Object","defineProperty","formValidation","_this$state","attachFile","current","files","formattedErrors","match","size","handleSubmit","preventDefault","_this$state2","onSubmit","props","console","log","validateAll","then","formData","FormData","append","fetch","method","body","headers","Token","response","json","data","success","doubleUser","message","reset","catch","err","forEach","field","finally","_this2","this","API","val","num","_this3","_this$state3","Loader","encType","type","onChange","placeholder","components_ErrorValidation_ErrorValidation","map","key","id","checked","photoSection","data-multiple-caption","multiple","accept","ref","htmlFor","slice","String","length","concat","ErrorNotification","Component"],"mappings":"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","file":"static/js/sign-up.d8ec20f8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"primaryColor\":\"#ef5b4c\",\"centerDirection\":\"0 auto\",\"paragraph3\":\"12px\",\"mainContainer\":\"73.125rem\",\"errorTextWrapper\":\"ErrorValidation_errorTextWrapper__2DfJG\",\"errorText\":\"ErrorValidation_errorText__AgGNX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headingMobile\":\"30px\",\"headingTablet\":\"40px\",\"headingDesktop\":\"50px\",\"paragraph1\":\"16px\",\"paragraph2\":\"14px\",\"paragraph3\":\"12px\",\"primaryColor\":\"#ef5b4c\",\"secondaryColor\":\"#007bff\",\"hoverPrimaryColor\":\"#c94031\",\"inputColor\":\"#cecece\",\"focusValidColor\":\"#64aefd\",\"focusValidColorShadow\":\"rgba(173, 222, 255, 0.5)\",\"focusInvalidColorShadow\":\"rgba(253, 171, 194, 0.5)\",\"marginForComponents\":\"40px\",\"transitionDuration\":\"400ms\",\"centerDirection\":\"SignUp_centerDirection__3PgXc\",\"whiteText\":\"#fff\",\"blackText\":\"#000\",\"backgroundColor3\":\"rgb(238, 237, 230)\",\"mainContainer\":\"73.125rem\",\"registerFormWrapper\":\"SignUp_registerFormWrapper__1JKSg\",\"registerFormTitle\":\"SignUp_registerFormTitle__31ezH\",\"registerFormContent\":\"SignUp_registerFormContent__zq8iA\",\"registerFormText\":\"SignUp_registerFormText__1x9rY\",\"registrationForm\":\"SignUp_registrationForm__3xTFS\",\"label\":\"SignUp_label__uhRfY\",\"labelTitle\":\"SignUp_labelTitle__2sZ1i\",\"labelPhoneTitle\":\"SignUp_labelPhoneTitle__2-XgF\",\"inputSection\":\"SignUp_inputSection__1IGI6\",\"inputSectionValid\":\"SignUp_inputSectionValid__3tIth SignUp_inputSection__1IGI6\",\"inputSectionInvalid\":\"SignUp_inputSectionInvalid__33dZa SignUp_inputSection__1IGI6\",\"inputNumberSection\":\"SignUp_inputNumberSection__sbTtV SignUp_inputSection__1IGI6\",\"inputNumberSectionValid\":\"SignUp_inputNumberSectionValid__EJkOi SignUp_inputNumberSection__sbTtV SignUp_inputSection__1IGI6\",\"inputNumberSectionInvalid\":\"SignUp_inputNumberSectionInvalid__ZoQSR SignUp_inputNumberSection__sbTtV SignUp_inputSection__1IGI6\",\"inputNumberFormat\":\"SignUp_inputNumberFormat__3bSBD\",\"positionsSection\":\"SignUp_positionsSection__3jMgg\",\"selectLabelTitle\":\"SignUp_selectLabelTitle__ZjigN\",\"labelContainer\":\"SignUp_labelContainer__2ei8m\",\"radioLabel\":\"SignUp_radioLabel__3hgyK\",\"inputRadioLabel\":\"SignUp_inputRadioLabel__1RKuD\",\"radioLabelTitle\":\"SignUp_radioLabelTitle__1XH9y\",\"photoLabelTitle\":\"SignUp_photoLabelTitle__DKeOn\",\"photoInput\":\"SignUp_photoInput__2N6PG\",\"labelPhotoInput\":\"SignUp_labelPhotoInput__3DQy9\",\"labelPhotoInputValid\":\"SignUp_labelPhotoInputValid__1YW61 SignUp_labelPhotoInput__3DQy9\",\"labelPhotoInputInvalid\":\"SignUp_labelPhotoInputInvalid__11yzA SignUp_labelPhotoInput__3DQy9\",\"leftLabelPhotoInputBlack\":\"SignUp_leftLabelPhotoInputBlack__2WMex\",\"leftLabelPhotoInputGrey\":\"SignUp_leftLabelPhotoInputGrey__1chHF SignUp_leftLabelPhotoInputBlack__2WMex\",\"rightLabelPhotoInput\":\"SignUp_rightLabelPhotoInput__2Omel\",\"signUpButton\":\"SignUp_signUpButton__rfrMV\",\"firstClonePhotoInputBlack\":\"SignUp_firstClonePhotoInputBlack__1ndSM\",\"secondClonePhotoInput\":\"SignUp_secondClonePhotoInput__1_Izz\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ErrorValidation.module.css';\n\nconst ErrorValidation = ({ text }) => (\n  <div className={styles.errorTextWrapper}>\n    <p className={styles.errorText}>{text}</p>\n  </div>\n);\n\nErrorValidation.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default ErrorValidation;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { validateAll } from 'indicative/validator';\nimport * as API from '../../services/article-api';\n// eslint-disable-next-line import/extensions\nimport Loader from '../Loader/Loader.jsx';\n// eslint-disable-next-line import/extensions\nimport ErrorNotification from '../ErrorNotification/ErrorNotification.jsx';\n// eslint-disable-next-line import/extensions\nimport ErrorValidation from '../ErrorValidation/ErrorValidation.jsx';\nimport styles from './SignUp.module.css';\n\nconst rules = {\n  name: 'required|string|min:3',\n  email: 'required|email',\n  phone: 'required|number',\n  position: 'required',\n  photo: 'required',\n};\n\nconst messages = {\n  'name.required': 'Please choose a unique username for your account',\n  'name.min': 'Your name is too short',\n  'email.required': 'Enter a valid email address',\n  'email.email': 'Email is invalid',\n  'phone.required': 'Enter a valid phone number',\n  'phone.number': 'Please write down only the numbers',\n  'position.required': 'Please choose your position',\n  'photo.required': 'Please upload your photo',\n};\n\nconst cutName = (val, num) => {\n  const valToString = String(val);\n  if (valToString.length > num) {\n    return val.slice(0, num).concat('...');\n  }\n  return val;\n};\n\nexport default class SignUp extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    name: '',\n    email: '',\n    phone: null,\n    position: '',\n    photo: null,\n    positions: [],\n    token: '',\n    isLoading: false,\n    error: null,\n    errors: null,\n  };\n\n  inputRef = createRef();\n\n  componentDidMount() {\n    this.setState({ isLoading: true });\n    API.fetchToken()\n      .then(data => this.setState({ token: data.data.token }))\n      .catch(error => this.setState({ error }));\n    API.fetchPosition()\n      .then(data => this.setState({ positions: data.data.positions }))\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  formValidation = () => {\n    const { email, phone } = this.state;\n    const { current } = this.inputRef;\n    const attachFile = current.files[0];\n    const attachSize = 1 * 1024 * 1024;\n    const formattedErrors = {};\n    // eslint-disable-next-line no-useless-escape\n    const emailPattern = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    const phonePattern = /\\+380\\d{9}$/;\n    if (email && !email.match(emailPattern)) {\n      formattedErrors.email = 'You entered the wrong email';\n    }\n    if (phone && !phone.match(phonePattern)) {\n      formattedErrors.phone =\n        'Your phone number must begin with (+380) and then contain 9 digits';\n    }\n    if (attachFile && attachFile.size > attachSize) {\n      formattedErrors.photo = 'Your photo should not be more than 1 MB';\n    }\n    if (\n      formattedErrors.email ||\n      formattedErrors.phone ||\n      formattedErrors.photo\n    ) {\n      this.setState({\n        errors: formattedErrors,\n      });\n      return true;\n    }\n    return false;\n  };\n\n  handleSubmit = e => {\n    this.setState({ isLoading: true });\n    e.preventDefault();\n    const { current } = this.inputRef;\n    const { name, email, phone, position, photo, token } = this.state;\n    const { onSubmit } = this.props;\n    const isValid = this.formValidation();\n    if (isValid) {\n      // eslint-disable-next-line no-console\n      console.log('validation failed');\n    } else {\n      validateAll({ name, email, phone, position, photo }, rules, messages)\n        .then(() => {\n          const formData = new FormData();\n          formData.append('position_id', 2);\n          formData.append('name', name);\n          formData.append('email', email);\n          formData.append('phone', phone);\n          formData.append('photo', current.files[0]);\n\n          fetch(\n            'https://frontend-test-assignment-api.abz.agency/api/v1/users',\n            {\n              method: 'POST',\n              body: formData,\n              headers: {\n                Token: token,\n              },\n            },\n          )\n            .then(response => response.json())\n            .then(data => {\n              if (data.success === false) {\n                const formattedErrors = {};\n                formattedErrors.doubleUser = data.message;\n                this.setState({ errors: formattedErrors });\n              } else {\n                onSubmit();\n                this.reset();\n              }\n            })\n            .catch(error => {\n              this.setState({ error });\n            });\n        })\n        .catch(err => {\n          const formattedErrors = {};\n          err.forEach(error => {\n            formattedErrors[error.field] = error.message;\n          });\n          this.setState({ errors: formattedErrors });\n        })\n        .finally(() => this.setState({ isLoading: false }));\n    }\n  };\n\n  reset = () => {\n    this.setState({\n      name: '',\n      email: '',\n      phone: null,\n      position: '',\n      photo: null,\n      errors: null,\n    });\n  };\n\n  render() {\n    const {\n      name,\n      email,\n      phone,\n      position,\n      photo,\n      positions,\n      isLoading,\n      error,\n      errors,\n    } = this.state;\n\n    return (\n      <div>\n        {isLoading && <Loader />}\n        <div className={styles.registerFormWrapper}>\n          <h2 className={styles.registerFormTitle}>Register to get a work</h2>\n          <div className={styles.registerFormContent}>\n            <p className={styles.registerFormText}>\n              Attention! After successful registration and alert, update the\n              list of users in the block from the top\n            </p>\n\n            <form\n              onSubmit={this.handleSubmit}\n              encType=\"multipart/form-data\"\n              method=\"post\"\n              className={styles.registrationForm}\n            >\n              <section className={styles.labelContainer}>\n                <label className={styles.label}>\n                  <p className={styles.labelTitle}>Name</p>\n                  <input\n                    type=\"text\"\n                    value={name}\n                    onChange={this.handleChange}\n                    name=\"name\"\n                    placeholder=\"Your name\"\n                    className={\n                      errors && !!errors.name\n                        ? styles.inputSectionInvalid\n                        : styles.inputSectionValid\n                    }\n                  />\n                  {errors && <ErrorValidation text={errors.name} />}\n                </label>\n                <label className={styles.label}>\n                  <p className={styles.labelTitle}>Email</p>\n                  <input\n                    type=\"email\"\n                    value={email}\n                    onChange={this.handleChange}\n                    name=\"email\"\n                    placeholder=\"Your email\"\n                    className={\n                      errors && !!errors.email\n                        ? styles.inputSectionInvalid\n                        : styles.inputSectionValid\n                    }\n                  />\n                  {errors && <ErrorValidation text={errors.email} />}\n                </label>\n                <label className={styles.label}>\n                  <p className={styles.labelPhoneTitle}>Phone number</p>\n                  <input\n                    type=\"tel\"\n                    value={phone}\n                    onChange={this.handleChange}\n                    name=\"phone\"\n                    placeholder=\"+380 XX  XXX  XX XX\"\n                    className={\n                      errors && !!errors.phone\n                        ? styles.inputNumberSectionInvalid\n                        : styles.inputNumberSectionValid\n                    }\n                  />\n                  <p className={styles.inputNumberFormat}>\n                    Enter phone number in open format\n                  </p>\n                  {errors && <ErrorValidation text={errors.phone} />}\n                </label>\n              </section>\n              <section className={styles.positionsSection}>\n                <p className={styles.selectLabelTitle}>Select your position</p>\n                <div className={styles.labelContainer}>\n                  {positions.map(val => {\n                    return (\n                      <label className={styles.radioLabel} key={val.id}>\n                        <input\n                          type=\"radio\"\n                          checked={position === val.name}\n                          name=\"position\"\n                          value={val.name}\n                          onChange={this.handleChange}\n                          className={styles.inputRadioLabel}\n                        />\n                        <span className={styles.radioLabelTitle}>\n                          {val.name}\n                        </span>\n                      </label>\n                    );\n                  })}\n                </div>\n                {errors && <ErrorValidation text={errors.position} />}\n              </section>\n              <section className={styles.photoSection}>\n                <p className={styles.photoLabelTitle}>Photo</p>\n                <input\n                  id=\"file\"\n                  type=\"file\"\n                  value={photo}\n                  onChange={this.handleChange}\n                  name=\"photo\"\n                  className={styles.photoInput}\n                  data-multiple-caption=\"{count} files selected\"\n                  multiple\n                  accept=\"image/jpeg\"\n                  ref={this.inputRef}\n                />\n                <label\n                  htmlFor=\"file\"\n                  className={\n                    errors && !!errors.photo\n                      ? styles.labelPhotoInputInvalid\n                      : styles.labelPhotoInputValid\n                  }\n                >\n                  <div\n                    className={\n                      photo\n                        ? styles.leftLabelPhotoInputBlack\n                        : styles.leftLabelPhotoInputGrey\n                    }\n                  >\n                    {photo ? cutName(photo.slice(12), 25) : 'Upload your photo'}\n                  </div>\n                  <div className={styles.rightLabelPhotoInput}>Browse</div>\n                </label>\n                {errors && <ErrorValidation text={errors.photo} />}\n              </section>\n              {error && <ErrorNotification text={error.message} />}\n              {errors && (\n                <div className={styles.centerDirection}>\n                  <ErrorValidation text={errors.doubleUser} />\n                </div>\n              )}\n              <button type=\"submit\" className={styles.signUpButton}>\n                Sign up now\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}